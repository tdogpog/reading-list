<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Book Library</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header">
        <h1>Book Library</h1>
        <button id="button">New Entry +</button>
    </div>

    <div class="main" id="main">

    </div>


    <div id='form-container' class="form-container">
        <form id="form">
            <h2>New Book Entry</h2>
            <input type="text" name="title" id="title" placeholder="Title">   
            <input type="text" name="author" id="author" placeholder="Author">
            <input type="number" name="pages" id="pages" placeholder="Pages">
            <label id='checkbox'for="read">Have you read this book?
                <input type='checkbox' name="read" id="read">
            </label>
            <button id='submit' type="submit">Submit</button>
        </form>
    </div>

    <div id="darken" ></div>



    <script>

        const book_entry_button = document.getElementById('button');
        const darken_div= document.getElementById('darken');
        const form_container=document.getElementById('form-container');
        const submit_button=document.getElementById('submit');
        const form=document.getElementById('form');
        const main=document.getElementById('main');

        book_entry_button.addEventListener('click', function() {
            darken_div.style.display = 'block';
            form_container.style.display = 'block';
        });

        // Close the form and darken div when clicking outside the form
        darken_div.addEventListener('click', function() {
            darken_div.style.display = 'none';
            form_container.style.display = 'none';
        });


        const myLibrary = [];

        //constructor
        function Book() {
            this.title=title;
            this.author=author;
            this.pages=pages;
            this.read=read;

        }

        //prototype for each book 
        Book.prototype.readstatus= function(){

            let readstatus;

            if (this.read){
                readstatus='read';
            }
            else{
                readstatus='not read yet'
            }
            
        
            return `${this.title} by ${this.author}, ${this.pages} pages, ${readStatus}`;
        }

        function addBookToLibrary(title, author, pages, read) {
            const newBook= new Book(title,author,pages,read);
            myLibrary.push(newBook);

        }

        form.addEventListener('submit',function(event){
            //uses js instead of browser submit/prevents page refresh
            event.preventDefault();

            const title=document.getElementById('title').value;
            const author = document.getElementById('author').value;
            const pages = parseInt(document.getElementById('pages').value);
            const read = document.getElementById('read').checked;

            addBookToLibrary(title,author,pages,read);

            form.reset();

            darken_div.style.display = 'none';
            form_container.style.display = 'none';

            const mainItem=document.createElement('div');

            const p_title=document.createElement('p');
            const p_author=document.createElement('p');
            const p_pages=document.createElement('p');
            
            p_title.textContent=title;
            p_author.textContent=author;
            p_pages.textContent=pages;

            mainItem.appendChild(p_title);
            mainItem.appendChild(p_author);
            mainItem.appendChild(p_pages);
 
            mainItem.classList.add('main-item');
            main.appendChild(mainItem);



        });



    </script>
    
</body>
</html>

